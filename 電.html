<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç¦å²¡å¸‚åœ°ä¸‹é‰„ ç©ºæ¸¯ç·šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆå§ªæµœã€œç¦å²¡ç©ºæ¸¯ï¼‰</title>
<style>
  body {
    background: linear-gradient(#0b2b50, #1c1c1c);
    color: #fff;
    font-family: "Arial", sans-serif;
    text-align: center;
  }
  h1 { color: #00bfff; }
  .panel {
    background: #111;
    border: 2px solid #00bfff;
    border-radius: 10px;
    padding: 15px;
    display: inline-block;
    margin-top: 15px;
  }
  button {
    font-size: 1.2em;
    margin: 5px;
    padding: 8px 18px;
    border-radius: 6px;
    border: none;
    background: #0077ff;
    color: white;
  }
  button:hover { background: #00aaff; }
  .display {
    font-size: 1.4em;
    margin: 10px;
  }
  .alert { color: #ff4444; font-weight: bold; }
</style>
</head>
<body>

<h1>ğŸš† ç¦å²¡å¸‚åœ°ä¸‹é‰„ ç©ºæ¸¯ç·š é‹è»¢ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
<p>åŒºé–“ï¼šå§ªæµœ â†’ ç¦å²¡ç©ºæ¸¯ï¼ˆå…¨13é§…ï¼‰</p>

<div class="panel">
  <div class="display">é§…ï¼š<span id="station">å§ªæµœ</span></div>
  <div class="display">é€Ÿåº¦ï¼š<span id="speed">0</span> km/h</div>
  <div class="display">ãƒ–ãƒ¬ãƒ¼ã‚­åœ§ï¼š<span id="brake">0</span> %</div>
  <div id="alert" class="alert"></div>
  <button onclick="accelerate()">åŠ›è¡Œ</button>
  <button onclick="brake()">å¸¸ç”¨ãƒ–ãƒ¬ãƒ¼ã‚­</button>
  <button onclick="emergency()">éå¸¸ãƒ–ãƒ¬ãƒ¼ã‚­</button>
  <button onclick="nextStation()">æ¬¡ã®é§…ã¸</button>
  <button onclick="resetTrain()">ãƒªã‚»ãƒƒãƒˆ</button>
</div>

<script>
let speed = 0;
let brakePressure = 0;
let ebActive = false;
let currentStation = 0;

// ç¦å²¡å¸‚åœ°ä¸‹é‰„ç©ºæ¸¯ç·šã®é§…ãƒªã‚¹ãƒˆ
const stations = [
  "å§ªæµœ", "å®¤è¦‹", "è—¤å´", "è¥¿æ–°", "å”äººç”º", "å¤§æ¿ å…¬åœ’",
  "èµ¤å‚", "å¤©ç¥", "ä¸­æ´²å·ç«¯", "ç¥‡åœ’", "åšå¤š", "æ±æ¯”æµ", "ç¦å²¡ç©ºæ¸¯"
];

function updateDisplay() {
  document.getElementById("speed").textContent = speed.toFixed(1);
  document.getElementById("brake").textContent = brakePressure;
  document.getElementById("station").textContent = stations[currentStation];
}

function accelerate() {
  if (ebActive) return;
  if (speed < 75) {
    speed += 4;
    brakePressure = Math.max(0, brakePressure - 10);
    updateDisplay();
  }
}

function brake() {
  if (speed > 0) {
    speed -= 3;
    if (speed < 0) speed = 0;
    brakePressure = Math.min(100, brakePressure + 20);
    updateDisplay();
  }
}

function emergency() {
  if (ebActive) return;
  ebActive = true;
  document.getElementById("alert").textContent = "âš  éå¸¸ãƒ–ãƒ¬ãƒ¼ã‚­ä½œå‹•ä¸­ï¼";
  let ebTimer = setInterval(() => {
    if (speed > 0) {
      speed -= 10;
      if (speed < 0) speed = 0;
      brakePressure = 100;
      updateDisplay();
    } else {
      clearInterval(ebTimer);
      document.getElementById("alert").textContent = "åˆ—è»Šåœæ­¢ï¼ˆEBè§£é™¤ã—ã¦ãã ã•ã„ï¼‰";
    }
  }, 400);
}

function nextStation() {
  if (speed > 0) {
    document.getElementById("alert").textContent = "ğŸš¦ åœæ­¢ã—ã¦ã‹ã‚‰é€²ã‚ã¾ã™";
    return;
  }
  if (currentStation < stations.length - 1) {
    currentStation++;
    document.getElementById("alert").textContent = "â¡ ç™ºè»Šï¼ æ¬¡ã¯ã€Œ" + stations[currentStation] + "ã€";
  } else {
    document.getElementById("alert").textContent = "âœ… çµ‚ç‚¹ï¼šç¦å²¡ç©ºæ¸¯ åˆ°ç€ï¼";
  }
  updateDisplay();
}

function resetTrain() {
  speed = 0;
  brakePressure = 0;
  ebActive = false;
  currentStation = 0;
  document.getElementById("alert").textContent = "";
  updateDisplay();
}

updateDisplay();
</script>

</body>
</html>